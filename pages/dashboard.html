<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Room Chat | Dashboard</title>
    <link rel="stylesheet" href="../assets/css/variables.css">
    <link rel="stylesheet" href="../assets/css/theme.css">
    <link rel="stylesheet" href="../assets/css/layout.css">
</head>
<body>
    <div class="main-container">
        <nav class="neo-box navbar">
    <div class="brand" onclick="window.location.href='home.html'" style="cursor:pointer">ROOM CHAT</div>
    <div class="nav-controls">
        <span id="nav-username" class="user-tag">...</span>
        <button onclick="handleLogout()" class="neo-btn" style="background:#ffcdd2">LOGOUT</button>
    </div>
</nav>

        <div class="dashboard-layout">
            <section class="neo-box profile-section">
                <div style="border-bottom: 3px solid black; margin-bottom: 15px; display:flex; justify-content:space-between;">
                    <h2>YOUR IDENTITY</h2>
                    <div style="width:15px; height:15px; background:var(--success-color); border:2px solid black; border-radius:50%;"></div>
                </div>

                <div id="profile-view" class="profile-content">
                    <div class="info-row">
                        <span class="label">CODENAME:</span>
                        <span id="display-username" class="value">...</span>
                    </div>
                    <div class="info-row">
                        <span class="label">CONTACT:</span>
                        <span id="display-email" class="value">...</span>
                    </div>
                    <button onclick="toggleEditMode(true)" class="neo-btn action-btn">REWRITE IDENTITY</button>
                </div>

                <form id="profile-edit" class="profile-content hidden" onsubmit="handleProfileUpdate(event)">
                    <div class="input-group">
                        <label>NEW CODENAME</label>
                        <input type="text" id="edit-username" required>
                    </div>
                    <div class="input-group">
                        <label>NEW CONTACT</label>
                        <input type="email" id="edit-email" required>
                    </div>
                    <div class="button-group">
                        <button type="button" onclick="toggleEditMode(false)" class="neo-btn">CANCEL</button>
                        <button type="submit" class="neo-btn" style="background-color: var(--success-color); flex:1;">SAVE</button>
                    </div>
                </form>

                <div id="status-message" class="status-box hidden" style="margin-top:15px;"></div>
            </section>

            <section class="neo-box">
                <h2>THE LOBBY</h2>
                <hr style="border: 1px solid black; margin: 10px 0;">
                <p>Select a frequency to begin transmission.</p>
                <br>
                <button class="neo-btn action-btn" onclick="alert('Coming soon!')">BROWSE ROOMS</button>
            </section>
        </div>
    </div>

    <script type="module" src="../scripts/dashboard.js"></script>
</body>
</html>